<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>GRAPES: chunk_signaling_test.c</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">GRAPES
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">chunk_signaling_test.c</div>  </div>
</div><!--header-->
<div class="contents">
<p>A test program showing how to use the signalling API.</p>
<div class="fragment"><pre class="fragment"><span class="comment">/*</span>
<span class="comment"> *  Copyright (c) 2009 Luca Abeni</span>
<span class="comment"> *</span>
<span class="comment"> *  This is free software; see gpl-3.0.txt</span>
<span class="comment"> */</span>
<span class="preprocessor">#include &lt;stdlib.h&gt;</span>
<span class="preprocessor">#include &lt;stdint.h&gt;</span>
<span class="preprocessor">#include &lt;stdio.h&gt;</span>
<span class="preprocessor">#include &lt;string.h&gt;</span>
<span class="preprocessor">#include &lt;getopt.h&gt;</span>

<span class="preprocessor">#include &quot;<a class="code" href="net__helper_8h.html" title="Communication facility interface for SOM.">net_helper.h</a>&quot;</span>
<span class="preprocessor">#include &quot;net_helpers.h&quot;</span>
<span class="preprocessor">#include &quot;<a class="code" href="chunk_8h.html" title="Chunk structure.">chunk.h</a>&quot;</span>
<span class="preprocessor">#include &quot;<a class="code" href="chunkidset_8h.html" title="Structure containing a set of chunk IDs.">chunkidset.h</a>&quot;</span>
<span class="preprocessor">#include &quot;grapes_msg_types.h&quot;</span>
<span class="preprocessor">#include &quot;<a class="code" href="trade__sig__ha_8h.html" title="Chunk Signaling API - Higher Abstraction (HA).">trade_sig_ha.h</a>&quot;</span>
<span class="preprocessor">#include &quot;chunkid_set_h.h&quot;</span>

<span class="preprocessor">#define BUFFSIZE 1024</span>
<span class="preprocessor"></span>
<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *my_addr = <span class="stringliteral">&quot;127.0.0.1&quot;</span>;
<span class="keyword">static</span> <span class="keywordtype">int</span> port = 6666;
<span class="keyword">static</span> <span class="keywordtype">int</span> dst_port;
<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *dst_ip;
<span class="keyword">static</span> <span class="keywordtype">int</span> random_bmap = 0;
<span class="keyword">enum</span> sigz { offer, request, sendbmap, reqbmap, unknown
};
<span class="keyword">static</span> <span class="keyword">enum</span> sigz sig = unknown;

<span class="keyword">static</span> <span class="keyword">struct </span>nodeID *init(<span class="keywordtype">void</span>)
{
  <span class="keyword">struct </span>nodeID *myID;

  myID = <a name="a0"></a><a class="code" href="net__helper_8h.html#a75c24f68a227ceca874aee06e35aef6f" title="Initialize all needed internal parameters.">net_helper_init</a>(my_addr, port, <span class="stringliteral">&quot;&quot;</span>);
  <span class="keywordflow">if</span> (myID == NULL) {
    fprintf(stderr, <span class="stringliteral">&quot;Error creating my socket (%s:%d)!\n&quot;</span>, my_addr, port);

    <span class="keywordflow">return</span> NULL;
  }  
  <a name="a1"></a><a class="code" href="trade__sig__ha_8h.html#a1beac4992e05085605e1fc78ac7df7d4" title="Set current node identifier.">chunkSignalingInit</a>(myID);
  <span class="keywordflow">return</span> myID;
}

<span class="keyword">static</span> <span class="keywordtype">void</span> cmdline_parse(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> *argv[])
{
  <span class="keywordtype">int</span> o;

  <span class="keywordflow">while</span> ((o = getopt(argc, argv, <span class="stringliteral">&quot;p:i:P:I:ORBbN&quot;</span>)) != -1) {
    <span class="keywordflow">switch</span>(o) {
      <span class="keywordflow">case</span> <span class="charliteral">&#39;p&#39;</span>:
        dst_port = atoi(optarg);
        <span class="keywordflow">break</span>;
      <span class="keywordflow">case</span> <span class="charliteral">&#39;i&#39;</span>:
        dst_ip = strdup(optarg);
        <span class="keywordflow">break</span>;
      <span class="keywordflow">case</span> <span class="charliteral">&#39;P&#39;</span>:
        port =  atoi(optarg);
        <span class="keywordflow">break</span>;
      <span class="keywordflow">case</span> <span class="charliteral">&#39;I&#39;</span>:
        my_addr = iface_addr(optarg);
        <span class="keywordflow">break</span>;
      <span class="keywordflow">case</span> <span class="charliteral">&#39;O&#39;</span>:
          sig = offer;
          <span class="keywordflow">break</span>;
      <span class="keywordflow">case</span> <span class="charliteral">&#39;R&#39;</span>:
          sig = request;
          <span class="keywordflow">break</span>;
      <span class="keywordflow">case</span> <span class="charliteral">&#39;B&#39;</span>:
          sig = sendbmap;
          <span class="keywordflow">break</span>;
      <span class="keywordflow">case</span> <span class="charliteral">&#39;b&#39;</span>:
          sig = reqbmap;
          <span class="keywordflow">break</span>;
     <span class="keywordflow">case</span> <span class="charliteral">&#39;N&#39;</span>:
          random_bmap = 1;
          <span class="keywordflow">break</span>;
     <span class="keywordflow">default</span>:
        fprintf(stderr, <span class="stringliteral">&quot;Error: unknown option %c\n&quot;</span>, o);

        exit(-1);
    }
  }
}

<span class="keyword">static</span> <span class="keyword">enum</span> <a class="code" href="trade__sig__ha_8h.html#ae20491b8b0c170624f48e523666070e7">signaling_type</a> sig_receive(<span class="keyword">struct</span> nodeID *my_sock, <span class="keyword">struct</span> nodeID **r, <span class="keywordtype">int</span> *<span class="keywordtype">id</span>, <span class="keyword">struct</span> chunkID_set **cset)
{
    <span class="keyword">static</span> uint8_t buff[BUFFSIZE];
    <span class="keywordtype">int</span> ret;
    <span class="keyword">struct </span>nodeID *owner;
    <span class="keyword">struct </span>nodeID *remote;
    <span class="keyword">enum</span> <a class="code" href="trade__sig__ha_8h.html#ae20491b8b0c170624f48e523666070e7">signaling_type</a> sig_type;
    <span class="keywordtype">int</span> max_deliver = 0;
    uint16_t trans_id = 0;

    ret = <a name="a2"></a><a class="code" href="net__helper_8h.html#a6a7b9f1b75209bb621e03b6bb64dbcac" title="Receive data from a remote peer.">recv_from_peer</a>(my_sock, &amp;remote, buff, BUFFSIZE);

    <span class="comment">/* TODO: Error check! */</span>
    <span class="keywordflow">if</span> (buff[0] != MSG_TYPE_SIGNALLING) {
      fprintf(stderr, <span class="stringliteral">&quot;Wrong message type!!!\n&quot;</span>);

      <span class="keywordflow">return</span> -1;
    }
    fprintf(stdout,<span class="stringliteral">&quot;Received message of %d bytes\n&quot;</span>,ret);
    ret = <a name="a3"></a><a class="code" href="trade__sig__ha_8h.html#ab8c636f8fe6d3682ee49490255d31ade" title="Parse an incoming signaling message, providing the signal type and the information of the signaling m...">parseSignaling</a>(buff + 1, ret - 1, &amp;owner, cset, &amp;max_deliver, &amp;trans_id, &amp;sig_type);
    fprintf(stdout,<span class="stringliteral">&quot;Parsed %d bytes: trans_id %d, Max_deliver %d\n&quot;</span>, ret, trans_id, max_deliver);
    <span class="keywordflow">switch</span> (sig_type) {
        <span class="keywordflow">case</span> sig_accept:
            fprintf(stdout, <span class="stringliteral">&quot;Accept of %d chunks\n&quot;</span>, <a name="a4"></a><a class="code" href="chunkidset_8h.html#a22b6681505e59ab6e14030001cbf4110" title="Get the set size.">chunkID_set_size</a>(*cset));
            <span class="keywordflow">break</span>;
        <span class="keywordflow">case</span> sig_deliver:
            fprintf(stdout, <span class="stringliteral">&quot;Deliver of %d chunks\n&quot;</span>, <a class="code" href="chunkidset_8h.html#a22b6681505e59ab6e14030001cbf4110" title="Get the set size.">chunkID_set_size</a>(*cset));
            <span class="keywordflow">break</span>;
        <span class="keywordflow">case</span> sig_send_buffermap:
            fprintf(stdout, <span class="stringliteral">&quot;I received a buffer of %d chunks\n&quot;</span>, <a class="code" href="chunkidset_8h.html#a22b6681505e59ab6e14030001cbf4110" title="Get the set size.">chunkID_set_size</a>(*cset));
            <span class="keywordflow">break</span>;
    }
    <span class="keywordflow">if</span>(owner)<a name="a5"></a><a class="code" href="net__helper_8h.html#acbb39cd9f02b80f55cb9b4956f4d7e90" title="Delete a nodeID.">nodeid_free</a>(owner);
    <span class="keywordflow">if</span> (r) {
      *r = remote;
    } <span class="keywordflow">else</span> {
      <a class="code" href="net__helper_8h.html#acbb39cd9f02b80f55cb9b4956f4d7e90" title="Delete a nodeID.">nodeid_free</a>(remote);
    }
    <span class="keywordflow">if</span> (<span class="keywordtype">id</span>) *<span class="keywordtype">id</span> = trans_id;

    <span class="keywordflow">return</span> sig_type;
}

<span class="keywordtype">int</span> client_side(<span class="keyword">struct</span> nodeID *my_sock)
{
    <span class="keyword">struct </span>nodeID *dst;
    <span class="keyword">struct </span>chunkID_set *cset = NULL;
    <span class="keyword">struct </span>chunkID_set *rcset = NULL;
    <span class="keywordtype">int</span> ret;
    <span class="comment">/* enum signaling_type sig_type; */</span>

    dst = <a name="a6"></a><a class="code" href="net__helper_8h.html#a9dd12dbdb263ed41b6fd849e1b7e0e2d" title="Create a new nodeID.">create_node</a>(dst_ip, dst_port);
    fprintf(stdout,<span class="stringliteral">&quot;Sending signal\n&quot;</span>);
    <span class="keywordflow">switch</span> (sig) {
        <span class="keywordflow">case</span> offer:
            cset = <a name="a7"></a><a class="code" href="chunkidset_8h.html#a1d3132a8b8e20497bc7d984019bd3bce" title="Allocate a chunk ID set.">chunkID_set_init</a>(<span class="stringliteral">&quot;size=10&quot;</span>);
            <span class="keywordflow">if</span> (!cset) {
                fprintf(stderr,<span class="stringliteral">&quot;Unable to allocate memory for cset\n&quot;</span>);
                <a class="code" href="net__helper_8h.html#acbb39cd9f02b80f55cb9b4956f4d7e90" title="Delete a nodeID.">nodeid_free</a>(dst);

                <span class="keywordflow">return</span> -1;
            }
            fillChunkID_set(cset, random_bmap);
            fprintf(stdout, <span class="stringliteral">&quot;\&quot;OFFER\&quot; &quot;</span>);
            ret = <a name="a8"></a><a class="code" href="trade__sig__ha_8h.html#a262404d3f17151b5bad4ce2c72b7b3d4" title="Offer a (sub)set of chunks to a Peer.">offerChunks</a>(dst, cset, 8, 22);
            <span class="keywordflow">break</span>;
        <span class="keywordflow">case</span> request:
            cset = <a class="code" href="chunkidset_8h.html#a1d3132a8b8e20497bc7d984019bd3bce" title="Allocate a chunk ID set.">chunkID_set_init</a>(<span class="stringliteral">&quot;size=10&quot;</span>);
            <span class="keywordflow">if</span> (!cset) {
                fprintf(stderr,<span class="stringliteral">&quot;Unable to allocate memory for cset\n&quot;</span>);
                <a class="code" href="net__helper_8h.html#acbb39cd9f02b80f55cb9b4956f4d7e90" title="Delete a nodeID.">nodeid_free</a>(dst);

                <span class="keywordflow">return</span> -1;
            }
            fprintf(stdout, <span class="stringliteral">&quot;\&quot;REQUEST\&quot; &quot;</span>);
            fillChunkID_set(cset,random_bmap);
            printChunkID_set(cset);
            ret = <a name="a9"></a><a class="code" href="trade__sig__ha_8h.html#a95cd32048979d3e5bc218b3f0030f7f2" title="Request a set of chunks from a Peer.">requestChunks</a>(dst, cset, 10, 44);
            <span class="keywordflow">break</span>;
        <span class="keywordflow">case</span> sendbmap:
            cset = <a class="code" href="chunkidset_8h.html#a1d3132a8b8e20497bc7d984019bd3bce" title="Allocate a chunk ID set.">chunkID_set_init</a>(<span class="stringliteral">&quot;type=bitmap,size=10&quot;</span>);
            <span class="keywordflow">if</span> (!cset) {
                fprintf(stderr,<span class="stringliteral">&quot;Unable to allocate memory for cset\n&quot;</span>);
                <a class="code" href="net__helper_8h.html#acbb39cd9f02b80f55cb9b4956f4d7e90" title="Delete a nodeID.">nodeid_free</a>(dst);

                <span class="keywordflow">return</span> -1;
            }
            fillChunkID_set(cset, random_bmap);
            fprintf(stdout, <span class="stringliteral">&quot;\&quot;SEND BMAP\&quot; &quot;</span>);
            ret = <a name="a10"></a><a class="code" href="trade__sig__ha_8h.html#ae4991e144bf414dd1269cf9ec067ecb2" title="Send a BufferMap to a Peer.">sendBufferMap</a>(dst, dst, cset, 0, 88);
            <span class="keywordflow">break</span>;
        <span class="keywordflow">case</span> reqbmap:
            fprintf(stdout, <span class="stringliteral">&quot;\&quot;REQUEST BMAP\&quot; &quot;</span>);
            ret = <a name="a11"></a><a class="code" href="trade__sig__ha_8h.html#aabdb5659190dbdb16d957cd87869b616" title="Request a BufferMap to a Peer.">requestBufferMap</a>(dst, NULL, 99);
            <span class="keywordflow">break</span>;
        <span class="keywordflow">default</span>:
            printf(<span class="stringliteral">&quot;Please select one operation (O)ffer, (R)equest, send (B)map, request (b)map\n&quot;</span>);
            <a class="code" href="net__helper_8h.html#acbb39cd9f02b80f55cb9b4956f4d7e90" title="Delete a nodeID.">nodeid_free</a>(dst);

            <span class="keywordflow">return</span> -1;
    }
    fprintf(stdout, <span class="stringliteral">&quot;done: %d\n&quot;</span>, ret);
    <a class="code" href="net__helper_8h.html#acbb39cd9f02b80f55cb9b4956f4d7e90" title="Delete a nodeID.">nodeid_free</a>(dst);

    <span class="comment">/* sig_type = */</span> sig_receive(my_sock, NULL, NULL, &amp;rcset);
    printChunkID_set(rcset);
    <span class="keywordflow">if</span> (cset) <a name="a12"></a><a class="code" href="chunkidset_8h.html#a669e30319c9a14ceccf043df4e9c5b1a" title="Clear a set and free all associated memory.">chunkID_set_free</a>(cset);
    <span class="keywordflow">if</span> (rcset) <a class="code" href="chunkidset_8h.html#a669e30319c9a14ceccf043df4e9c5b1a" title="Clear a set and free all associated memory.">chunkID_set_free</a>(rcset);

    <span class="keywordflow">return</span> 1;
}

<span class="keywordtype">int</span> server_side(<span class="keyword">struct</span> nodeID *my_sock)
{
    <span class="keywordtype">int</span> trans_id = 0;
    <span class="keywordtype">int</span> chunktosend;
    <span class="keyword">struct </span>chunkID_set *cset = NULL;
    <span class="keyword">struct </span>chunkID_set *rcset;
    <span class="keyword">struct </span>nodeID *remote;
    <span class="keyword">enum</span> <a class="code" href="trade__sig__ha_8h.html#ae20491b8b0c170624f48e523666070e7">signaling_type</a> sig_type;

    sig_type = sig_receive(my_sock, &amp;remote, &amp;trans_id, &amp;cset);
    <span class="keywordflow">switch</span>(sig_type) {
        <span class="keywordflow">case</span> sig_offer:
            fprintf(stdout, <span class="stringliteral">&quot;1) Message OFFER: peer offers %d chunks\n&quot;</span>, <a class="code" href="chunkidset_8h.html#a22b6681505e59ab6e14030001cbf4110" title="Get the set size.">chunkID_set_size</a>(cset));
            chunktosend = <a name="a13"></a><a class="code" href="chunkidset_8h.html#a06d93179649b1a85ed67812dbea626de" title="Get the largest chunk ID from a set.">chunkID_set_get_latest</a>(cset);
            printChunkID_set(cset);
            rcset = <a class="code" href="chunkidset_8h.html#a1d3132a8b8e20497bc7d984019bd3bce" title="Allocate a chunk ID set.">chunkID_set_init</a>(<span class="stringliteral">&quot;size=1&quot;</span>);
            fprintf(stdout, <span class="stringliteral">&quot;2) Acceping only latest chunk #%d\n&quot;</span>, chunktosend);
            <a name="a14"></a><a class="code" href="chunkidset_8h.html#a602167ad57b573c19512fb35889e9afe" title="Add a chunk ID to the set.">chunkID_set_add_chunk</a>(rcset, chunktosend);
            <a name="a15"></a><a class="code" href="trade__sig__ha_8h.html#a9fdb2b2c75f582f96bf3d747cddfea2d" title="Accept a (sub)set of chunks from a Peer.">acceptChunks</a>(remote, rcset, trans_id++);
            <span class="keywordflow">break</span>;
        <span class="keywordflow">case</span> sig_request:
            fprintf(stdout, <span class="stringliteral">&quot;1) Message REQUEST: peer requests %d chunks\n&quot;</span>, <a class="code" href="chunkidset_8h.html#a22b6681505e59ab6e14030001cbf4110" title="Get the set size.">chunkID_set_size</a>(cset));
            printChunkID_set(cset);
            chunktosend = <a name="a16"></a><a class="code" href="chunkidset_8h.html#ad4b905da022593e4ff35d00be4505f0a" title="Get the smallest chunk ID from a set.">chunkID_set_get_earliest</a>(cset);
            rcset = <a class="code" href="chunkidset_8h.html#a1d3132a8b8e20497bc7d984019bd3bce" title="Allocate a chunk ID set.">chunkID_set_init</a>(<span class="stringliteral">&quot;size=1&quot;</span>);
            fprintf(stdout, <span class="stringliteral">&quot;2) Deliver only earliest chunk #%d\n&quot;</span>, chunktosend);
            <a class="code" href="chunkidset_8h.html#a602167ad57b573c19512fb35889e9afe" title="Add a chunk ID to the set.">chunkID_set_add_chunk</a>(rcset, chunktosend);
            <a name="a17"></a><a class="code" href="trade__sig__ha_8h.html#a8fb3a3251cae42ab85c15990821cabd1" title="Deliver a set of Chunks to a Peer as a reply of its previous request of Chunks.">deliverChunks</a>(remote, rcset, trans_id++);
            <span class="keywordflow">break</span>;
        <span class="keywordflow">case</span> sig_send_buffermap:
            fprintf(stdout, <span class="stringliteral">&quot;1) Message SEND_BMAP: I received a buffer of %d chunks\n&quot;</span>, <a class="code" href="chunkidset_8h.html#a22b6681505e59ab6e14030001cbf4110" title="Get the set size.">chunkID_set_size</a>(cset));
            printChunkID_set(cset);
            rcset = <a class="code" href="chunkidset_8h.html#a1d3132a8b8e20497bc7d984019bd3bce" title="Allocate a chunk ID set.">chunkID_set_init</a>(<span class="stringliteral">&quot;size=15,type=bitmap&quot;</span>);
            <span class="keywordflow">if</span> (!rcset) {
                fprintf(stderr,<span class="stringliteral">&quot;Unable to allocate memory for rcset\n&quot;</span>);

                <span class="keywordflow">return</span> -1;
            }
            fillChunkID_set(rcset, random_bmap);
            fprintf(stdout, <span class="stringliteral">&quot;2) Message SEND_BMAP: I send my buffer of %d chunks\n&quot;</span>, <a class="code" href="chunkidset_8h.html#a22b6681505e59ab6e14030001cbf4110" title="Get the set size.">chunkID_set_size</a>(rcset));
            printChunkID_set(rcset);
            <a class="code" href="trade__sig__ha_8h.html#ae4991e144bf414dd1269cf9ec067ecb2" title="Send a BufferMap to a Peer.">sendBufferMap</a>(remote, my_sock, rcset, 0, trans_id++);
            <span class="keywordflow">break</span>;
        <span class="keywordflow">case</span> sig_request_buffermap:
            fprintf(stdout, <span class="stringliteral">&quot;1) Message REQUEST_BMAP: Someone requeste my buffer map [%d]\n&quot;</span>, (cset == NULL));
            rcset = <a class="code" href="chunkidset_8h.html#a1d3132a8b8e20497bc7d984019bd3bce" title="Allocate a chunk ID set.">chunkID_set_init</a>(<span class="stringliteral">&quot;size=15,type=bitmap&quot;</span>);
            <span class="keywordflow">if</span> (!rcset) {
                fprintf(stderr,<span class="stringliteral">&quot;Unable to allocate memory for rcset\n&quot;</span>);

                <span class="keywordflow">return</span> -1;
            }
            fillChunkID_set(rcset, random_bmap);
            <a class="code" href="trade__sig__ha_8h.html#ae4991e144bf414dd1269cf9ec067ecb2" title="Send a BufferMap to a Peer.">sendBufferMap</a>(remote, my_sock, rcset, 0, trans_id++);
            <span class="keywordflow">break</span>;
    }
    <a class="code" href="net__helper_8h.html#acbb39cd9f02b80f55cb9b4956f4d7e90" title="Delete a nodeID.">nodeid_free</a>(remote);
    <span class="keywordflow">if</span> (cset) <a class="code" href="chunkidset_8h.html#a669e30319c9a14ceccf043df4e9c5b1a" title="Clear a set and free all associated memory.">chunkID_set_free</a>(cset);
    <span class="keywordflow">if</span> (rcset) <a class="code" href="chunkidset_8h.html#a669e30319c9a14ceccf043df4e9c5b1a" title="Clear a set and free all associated memory.">chunkID_set_free</a>(rcset);

    <span class="keywordflow">return</span> 1;
}

<span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> *argv[])
{
    <span class="keyword">struct </span>nodeID *my_sock;    
    <span class="keywordtype">int</span> ret;

    cmdline_parse(argc, argv);
    my_sock = init();
    ret = 0;
    <span class="keywordflow">if</span> (dst_port != 0) {
        ret = client_side(my_sock);
    } <span class="keywordflow">else</span> {
        ret = server_side(my_sock);
    }
    <a class="code" href="net__helper_8h.html#acbb39cd9f02b80f55cb9b4956f4d7e90" title="Delete a nodeID.">nodeid_free</a>(my_sock);

    <span class="keywordflow">return</span> ret;
}
</pre></div> </div><!-- contents -->
</div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Fri May 3 2013 10:18:23 for GRAPES by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
