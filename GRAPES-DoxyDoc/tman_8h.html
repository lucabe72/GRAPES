<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>GRAPES: tman.h File Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">GRAPES
   
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">tman.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Topology Manager interface.  
<a href="#details">More...</a></p>

<p><a href="tman_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tman_8h.html#a127fbd00b67461b750a5df76fa245ace">tmanRankingFunction</a> )(const void *target, const void *p1, const void *p2)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Compare neighbors features.  <a href="#a127fbd00b67461b750a5df76fa245ace"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tman_8h.html#ab28c4488c7aa97d16db7d4091d5e2139">tmanInit</a> (struct nodeID *myID, void *metadata, int metadata_size, <a class="el" href="tman_8h.html#a127fbd00b67461b750a5df76fa245ace">tmanRankingFunction</a> rfun, const char *config)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialise the Topology Manager.  <a href="#ab28c4488c7aa97d16db7d4091d5e2139"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tman_8h.html#afb784688447daaec526abde03ffc3465">tmanAddNeighbour</a> (struct nodeID *neighbour, void *metadata, int metadata_size)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Insert a peer in the neighbourhood.  <a href="#afb784688447daaec526abde03ffc3465"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tman_8h.html#afde399ea476d5067e8ec7f5dd9f1349d">tmanParseData</a> (const uint8_t *buff, int len, struct nodeID **peers, int size, const void *metadata, int metadata_size)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Pass a received packet to Topology Manager.  <a href="#afde399ea476d5067e8ec7f5dd9f1349d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tman_8h.html#a9f5bbec9812a49f60e6e49a28ff7a662">tmanChangeMetadata</a> (void *metadata, int metadata_size)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Change the metadata in Topology Manager neighborhood.  <a href="#a9f5bbec9812a49f60e6e49a28ff7a662"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tman_8h.html#ae9b9a418612924d066717783e04d8f1a">tmanGetMetadata</a> (int *metadata_size)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the metadata of the neighbors.  <a href="#ae9b9a418612924d066717783e04d8f1a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tman_8h.html#a3ccebcf28f306a780ff7c2b6b3c8358a">tmanGetNeighbourhoodSize</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current neighborhood size.  <a href="#a3ccebcf28f306a780ff7c2b6b3c8358a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tman_8h.html#aea2c20d3a495fc4278bcdfd469d7be33">tmanGivePeers</a> (int n, struct nodeID **peers, void *metadata)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the best peers.  <a href="#aea2c20d3a495fc4278bcdfd469d7be33"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tman_8h.html#ac150ceb266ec03630bb8a124aa0980d9">tmanGrowNeighbourhood</a> (int n)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Increase the neighbourhood size.  <a href="#ac150ceb266ec03630bb8a124aa0980d9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tman_8h.html#aea04fc5250937f1c7c625ab373bc6101">tmanShrinkNeighbourhood</a> (int n)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Decrease the neighbourhood size.  <a href="#aea04fc5250937f1c7c625ab373bc6101"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="tman_8h.html#a62e95724422267dac41525bd15e4dcf4">tmanRemoveNeighbour</a> (struct nodeID *neighbour)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove a neighbour.  <a href="#a62e95724422267dac41525bd15e4dcf4"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Topology Manager interface. </p>
<p>This is the Topology Manager interface. </p>
</div><hr/><h2>Typedef Documentation</h2>
<a class="anchor" id="a127fbd00b67461b750a5df76fa245ace"></a><!-- doxytag: member="tman.h::tmanRankingFunction" ref="a127fbd00b67461b750a5df76fa245ace" args=")(const void *target, const void *p1, const void *p2)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* <a class="el" href="tman_8h.html#a127fbd00b67461b750a5df76fa245ace">tmanRankingFunction</a>)(const void *target, const void *p1, const void *p2)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Compare neighbors features. </p>
<p>The functions implementing this prototype may be used to compare neighbors features against a given target neighbor, in order to obtain a rank, to be used to build a given topology.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">target</td><td>pointer to data that describe the target against which the ranking has to be made. </td></tr>
    <tr><td class="paramname">p1</td><td>pointer to data that describe the first neighbor. </td></tr>
    <tr><td class="paramname">p2</td><td>pointer to data that describe the second neighbor. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>1 if p1 is to be ranked first; 2 if p2 is to be ranked first; 0 if there is a tie. </dd></dl>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="afb784688447daaec526abde03ffc3465"></a><!-- doxytag: member="tman.h::tmanAddNeighbour" ref="afb784688447daaec526abde03ffc3465" args="(struct nodeID *neighbour, void *metadata, int metadata_size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="tman_8h.html#afb784688447daaec526abde03ffc3465">tmanAddNeighbour</a> </td>
          <td>(</td>
          <td class="paramtype">struct nodeID *&#160;</td>
          <td class="paramname"><em>neighbour</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>metadata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>metadata_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Insert a peer in the neighbourhood. </p>
<p>This function can be used to add a specified neighbour to the neighbourhood. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">neighbour</td><td>the id of the peer to be added to the neighbourhood. </td></tr>
    <tr><td class="paramname">metadata</td><td>Pointer to the array of metadata belonging to the peers to be added. </td></tr>
    <tr><td class="paramname">metadata_size</td><td>Number of bytes of each metadata. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 in case of success; -1 in case of error. </dd></dl>

</div>
</div>
<a class="anchor" id="a9f5bbec9812a49f60e6e49a28ff7a662"></a><!-- doxytag: member="tman.h::tmanChangeMetadata" ref="a9f5bbec9812a49f60e6e49a28ff7a662" args="(void *metadata, int metadata_size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="tman_8h.html#a9f5bbec9812a49f60e6e49a28ff7a662">tmanChangeMetadata</a> </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>metadata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>metadata_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Change the metadata in Topology Manager neighborhood. </p>
<p>This function changes the metadata associated with the current node.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">metadata</td><td>Pointer to the metadata belonging to the peer. </td></tr>
    <tr><td class="paramname">metadata_size</td><td>Number of bytes of the metadata. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>1 if successful, -1 otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="ae9b9a418612924d066717783e04d8f1a"></a><!-- doxytag: member="tman.h::tmanGetMetadata" ref="ae9b9a418612924d066717783e04d8f1a" args="(int *metadata_size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const void* <a class="el" href="tman_8h.html#ae9b9a418612924d066717783e04d8f1a">tmanGetMetadata</a> </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>metadata_size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the metadata of the neighbors. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">metadata_size</td><td>Address of the integer that will be set to the size of each metadata. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>a pointer to the array of metadata associated with the peers in the neighbourhood. NULL in case of error, or if the neighbourhood is empty. </dd></dl>

</div>
</div>
<a class="anchor" id="a3ccebcf28f306a780ff7c2b6b3c8358a"></a><!-- doxytag: member="tman.h::tmanGetNeighbourhoodSize" ref="a3ccebcf28f306a780ff7c2b6b3c8358a" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="tman_8h.html#a3ccebcf28f306a780ff7c2b6b3c8358a">tmanGetNeighbourhoodSize</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the current neighborhood size. </p>
<p>This function returns the current number of peers in the local Topology Manager neighborhood.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>The current size of the neighborhood. </dd></dl>

</div>
</div>
<a class="anchor" id="aea2c20d3a495fc4278bcdfd469d7be33"></a><!-- doxytag: member="tman.h::tmanGivePeers" ref="aea2c20d3a495fc4278bcdfd469d7be33" args="(int n, struct nodeID **peers, void *metadata)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="tman_8h.html#aea2c20d3a495fc4278bcdfd469d7be33">tmanGivePeers</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct nodeID **&#160;</td>
          <td class="paramname"><em>peers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>metadata</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the best peers. </p>
<p>This function allows the user to retrieve the best n peers from Topology Manager cache, along with their metadata. The number of peers actually returned may be different from what is asked, depending on the current size of the cache.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">n</td><td>The number of peer the Topology Manager is asked for. </td></tr>
    <tr><td class="paramname">peers</td><td>Array of nodeID pointers to be filled. </td></tr>
    <tr><td class="paramname">metadata</td><td>Pointer to the array of metadata belonging to the peers to be given. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The number of elements in peers. </dd></dl>

</div>
</div>
<a class="anchor" id="ac150ceb266ec03630bb8a124aa0980d9"></a><!-- doxytag: member="tman.h::tmanGrowNeighbourhood" ref="ac150ceb266ec03630bb8a124aa0980d9" args="(int n)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="tman_8h.html#ac150ceb266ec03630bb8a124aa0980d9">tmanGrowNeighbourhood</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Increase the neighbourhood size. </p>
<p>This function can be used to increase the number of neighbours (that is, the degree of the overlay graph) by a specified amount. The actual size change will be done the next time tmanParseData is called. As currently implemented, it doubles the current size at most. If the argument is negative or a resize has already been requested, but not performed yet, no change will occur and an error code is returned. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">n</td><td>number of peers by which the neighbourhood size must be incremented. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the new neighbourhood size in case of success; -1 in case of error. </dd></dl>

</div>
</div>
<a class="anchor" id="ab28c4488c7aa97d16db7d4091d5e2139"></a><!-- doxytag: member="tman.h::tmanInit" ref="ab28c4488c7aa97d16db7d4091d5e2139" args="(struct nodeID *myID, void *metadata, int metadata_size, tmanRankingFunction rfun, const char *config)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="tman_8h.html#ab28c4488c7aa97d16db7d4091d5e2139">tmanInit</a> </td>
          <td>(</td>
          <td class="paramtype">struct nodeID *&#160;</td>
          <td class="paramname"><em>myID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>metadata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>metadata_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="tman_8h.html#a127fbd00b67461b750a5df76fa245ace">tmanRankingFunction</a>&#160;</td>
          <td class="paramname"><em>rfun</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>config</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initialise the Topology Manager. </p>
<p>This function initializes the Topology Manager protocol with all the mandatory parameters.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">myID</td><td>the ID of this peer. </td></tr>
    <tr><td class="paramname">metadata</td><td>Pointer to data associated with the local peer. </td></tr>
    <tr><td class="paramname">metadata_size</td><td>Size (number of bytes) of the metadata associated with the local peer. </td></tr>
    <tr><td class="paramname">rfun</td><td>Ranking function that may be used to order the peers in tman cache. </td></tr>
    <tr><td class="paramname">config</td><td>Pointer to a configuration file that contains all relevant initialization data. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 in case of success; -1 in case of error. </dd></dl>

</div>
</div>
<a class="anchor" id="afde399ea476d5067e8ec7f5dd9f1349d"></a><!-- doxytag: member="tman.h::tmanParseData" ref="afde399ea476d5067e8ec7f5dd9f1349d" args="(const uint8_t *buff, int len, struct nodeID **peers, int size, const void *metadata, int metadata_size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="tman_8h.html#afde399ea476d5067e8ec7f5dd9f1349d">tmanParseData</a> </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>buff</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct nodeID **&#160;</td>
          <td class="paramname"><em>peers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>metadata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>metadata_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Pass a received packet to Topology Manager. </p>
<p>This function passes to Topology Manager a packet that has been received from the network. The Topology Manager will parse such packet and run the protocol, adding or removing peers to the neighbourhood, and sending overlay management messages to other peers. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">buff</td><td>a memory buffer containing the received message. </td></tr>
    <tr><td class="paramname">len</td><td>the size of such a memory buffer. </td></tr>
    <tr><td class="paramname">peers</td><td>Array of nodeID pointers to be added in Topology Manager cache. </td></tr>
    <tr><td class="paramname">size</td><td>Number of elements in peers. </td></tr>
    <tr><td class="paramname">metadata</td><td>Pointer to the array of metadata belonging to the peers to be added. </td></tr>
    <tr><td class="paramname">metadata_size</td><td>Number of bytes of each metadata. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>0 in case of success; -1 in case of error. </dd></dl>

</div>
</div>
<a class="anchor" id="a62e95724422267dac41525bd15e4dcf4"></a><!-- doxytag: member="tman.h::tmanRemoveNeighbour" ref="a62e95724422267dac41525bd15e4dcf4" args="(struct nodeID *neighbour)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="tman_8h.html#a62e95724422267dac41525bd15e4dcf4">tmanRemoveNeighbour</a> </td>
          <td>(</td>
          <td class="paramtype">struct nodeID *&#160;</td>
          <td class="paramname"><em>neighbour</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Remove a neighbour. </p>
<p>Delete a neighbour from the Topology Manager neighborhood.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">neighbour</td><td>Pointer to the nodeID of the neighbor to be removed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>1 if removal was successful, -1 if it was not. </dd></dl>

</div>
</div>
<a class="anchor" id="aea04fc5250937f1c7c625ab373bc6101"></a><!-- doxytag: member="tman.h::tmanShrinkNeighbourhood" ref="aea04fc5250937f1c7c625ab373bc6101" args="(int n)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="tman_8h.html#aea04fc5250937f1c7c625ab373bc6101">tmanShrinkNeighbourhood</a> </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Decrease the neighbourhood size. </p>
<p>This function can be used to reduce the number of neighbours (that is, the degree of the overlay graph) by a specified amount. The actual size change will be done the next time tmanParseData is called. If the argument is negative, or greater equal than the current cache size, or a resize has already been requested, but not performed yet, no change will occur and an error code is returned. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">n</td><td>number of peers by which the neighbourhood size must be decreased. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the new neighbourhood size in case of success; -1 in case of error. </dd></dl>

</div>
</div>
</div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Fri May 3 2013 10:18:23 for GRAPES by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
